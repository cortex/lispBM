set timeout 10

spawn cu -l /dev/ttyACM0 -s 115200

expect {
   timeout { send_user "failed to connect\n"; exit 1 }
   "Connected."
   }

send_user "ok what now";
sleep 1

send "\n"

expect {
  timeout { send_user "not getting a prompt\n"; exit 1}
  "#"
  }

send ":read\n"
sleep 1
send [exec cat fibonacci.lisp]
send \x04
interact

sleep 10

send "~." 
